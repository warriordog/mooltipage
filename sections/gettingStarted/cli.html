<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><title>Mooltipage - Getting Started - CLI</title><style>/** * Shared CSS for documentation project */ /* Standard color palette */ :root { /* Semantic colors */ --color-error: red; --color-warning: yellow; --color-success: green; --color-active: #0091ff; --color-alert: blue; --color-highlight: purple; --color-primary: black; --color-secondary: #4F4F4F; --color-light: white; /* Background colors */ --color-bg-content: white; --color-bg-isolate: #FAFAFA; --color-bg-shadow: lightgrey; --color-bg-aside: lightsteelblue; --color-bg-banner: skyblue; } /* Responsive layout tools */ :root { /* Switch to large when screen is at least 992px wide (bootstrap "large" breakpoint) */ --flow-breakpoint-small: 0px; --flow-breakpoint-large: 992px; --flow-flex-direction-small: row; --flow-flex-direction-large: column; --flow-padding-small: 10px; --flow-padding-large: 20px; /* Default all to small values */ --flow-flex-direction: var(--flow-flex-direction-small); --flow-flex-direction-inverse: var(--flow-flex-direction-large); --flow-padding: var(--flow-padding-small); --flow-padding-inverse: var(--flow-padding-large); } @media(min-width: 992px) { :root { --flow-flex-direction: var(--flow-flex-direction-large); --flow-flex-direction-inverse: var(--flow-flex-direction-small); --flow-padding: var(--flow-padding-large); --flow-padding-inverse: var(--flow-padding-small); } } * { box-sizing: border-box; font-family: Arial, Helvetica, sans-serif; line-height: 1.2; } .flex-spacer { flex: auto; } h1, h2, h3, h4, h5, h6, p, div, body, ul, ol { padding: 0; margin: 0; } h1 { font-size: 1.5rem; font-weight: bold; } h2 { font-size: 1.4rem; font-weight: bold; } h3 { font-size: 1.1rem; font-weight: bold; } h4 { font-size: 1rem; font-weight: bold; } h5 { font-size: 0.9rem; font-weight: bold; } p, h6, div { font-size: 1rem; font-weight: normal; } /* Make lists easier to style */ ul, ol { list-style-position: inside } /* Style links */ a { text-decoration: none; } a:link { color: var(--color-alert); } a:visited { color: var(--color-highlight); } a:hover { text-decoration: underline; } a.link-is-current-page { font-weight: bold; }</style><style>.responsive-flex-layout { display: flex; flex-wrap: nowrap; } .responsive-flex-layout[data-direction="row"] { flex-direction: var(--flow-flex-direction-inverse); align-items: flex-start; } .responsive-flex-layout[data-direction="column"] { flex-direction: var(--flow-flex-direction); align-items: center; } @media(min-width: 992px) { .responsive-flex-layout[data-direction="row"][data-auto-align="true"] { align-items: center; } .responsive-flex-layout[data-direction="column"][data-auto-align="true"] { align-items: flex-start; } }</style><style>.nav-section .nav-item:first-child { padding: 0; } .nav-section .nav-item { padding-left: 20px; } .nav-section .nav-title { font-weight: bold; text-decoration: underline; } @media(min-width: 992px) { .nav-section .nav-item { padding-left: 0; padding-top: 20px; } .nav-section .nav-section-layout { align-items: stretch; } }</style><style>.island { padding: var(--flow-padding); } .island-content { padding: var(--flow-padding); box-shadow: 3px 3px 7px 1px var(--color-bg-shadow); border: 1px solid var(--color-bg-shadow); border-radius: 5px; }</style><style>.page-section { padding-top: var(--flow-padding); } .page-section:first-of-type { padding-top: 0; }</style><style>code.code-block.cb-inline { display: inline-block; } code.code-block.cb-block { display: block; width: 100%; padding: 2px 0; } code.code-block > textarea { background-color: #F9F9EF; color: var(--color-secondary); border: 1px solid var(--color-bg-shadow); margin: 0; padding: 3px; font-family: "Lucida Console", Monaco, monospace; resize: none; overflow: hidden; width: 100%; } code.code-block.cb-block > textarea { resize: vertical; } code.code-block.cb-scroll-x > textarea, code.code-block.cb-scroll-both > textarea { overflow-x: auto; } code.code-block.cb-scroll-y > textarea, code.code-block.cb-scroll-both > textarea { overflow-y: auto; }</style><style>#main-layout { display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: stretch; } #top-bar { display: flex; flex-direction: row; flex-wrap: nowrap; align-items: center; padding: var(--flow-padding); background-color: var(--color-bg-banner); flex: 1 0 100%; } #lower-section { background-color: var(--color-bg-content); box-shadow: inset 0 8px 5px -5px var(--color-bg-banner); display: flex; flex-direction: row; flex-wrap: wrap; justify-content: stretch; } #main-content { padding: var(--flow-padding); flex: 1; } #main-content-header { padding-bottom: var(--flow-padding); } #side-bar { flex: 1 0 100%; } @media(min-width: 992px) { #side-bar { flex: 0 0 300px; } }</style></head><body><div id="main-layout"><header id="top-bar"><h1 id="page-title">Getting Started - CLI</h1><div class="flex-spacer"></div></header><div class="responsive-flex-layout" id="lower-section" data-direction="row" data-auto-align="false"><aside id="side-bar"><div class="island"><div class="island-content"><nav class="site-nav"><nav class="nav-section"><div class="responsive-flex-layout nav-section-layout" data-direction="column" data-auto-align="false"><div class="nav-item"><a href="../../index.html">Home</a></div><div class="nav-item"><a href="../../sections/gettingStarted/home.html" class="link-is-current-page">Getting Started</a></div><div class="nav-item"><a href="../../gen/typedoc/index.html" target="_blank" rel="noopener">API Documentation</a></div></div></nav></nav></div></div><div class="island"><div class="island-content"><nav class="nav-section"><div class="responsive-flex-layout nav-section-layout" data-direction="column" data-auto-align="false"><div class="nav-item"><a href="../../sections/gettingStarted/home.html">Getting Started - Home</a></div><div class="nav-item"><a href="../../sections/gettingStarted/installation.html">Getting Started - Installation</a></div><div class="nav-item"><a href="../../sections/gettingStarted/htmlUsage.html">Getting Started - HTML Usage</a></div><div class="nav-item"><a href="../../sections/gettingStarted/cli.html" class="link-is-current-page">Getting Started - CLI</a></div><div class="nav-item"><a href="../../sections/gettingStarted/api.html">Getting Started - JS API</a></div></div></nav></div></div></aside><main id="main-content"><article><header id="main-content-header"><h2>CLI Usage</h2></header><section class="page-section"><header><h3>General usage:</h3></header><p>If you have installed Mooltipage using npm as described in the previous sections, then all CLI functions can be accessed by the command "npx mooltipage". You can execute "npx cli --help" for a brief listing of available options and command usage.</p></section><section class="page-section"><header><h3>Building a single page:</h3></header><p>The simplest usage of Mooltipage is to compile a single page. This command will take an input HTML file and overwrite it with the compiled HTML output: <code class="code-block language-shell cb-block cb-scroll-y"><textarea readonly spellcheck="false" rows="1">npx mooltipage path/to/source/page.html</textarea></code> It is possible to repeatedly call this command with different pages to compile a larger project, but the CLI provided a better solution that will be described next. It is also possible to save the generated HTML to an alternate location. That will be explained later in this document.</p></section><section class="page-section"><header><h3>Building multiple pages:</h3></header><p>Mooltipage is designed for use in projects involving multiple HTML pages, so the CLI includes support for compiling multiple pages at once. When using Mooltipage in this way, the internal cache will be shared between pages. This can greatly speed up page compilation, especially in projects with a large number of frequently-used fragments. To compile multiple pages, simply provide multiple paths to the CLI. Each file will be compiled and overwritten in-place. <code class="code-block language-shell cb-block cb-scroll-y"><textarea readonly spellcheck="false" rows="1">npx mooltipage index.html about.html sales.html</textarea></code></p></section><section class="page-section"><header><h3>Building a directory:</h3></header><p>To avoid needing to specify all pages in a project, it is possible to target a directory or even multiple directories instead of targeting files directly. For each input path that resolves to a directory, Mooltipage will recursively search for and include all HTML files found under that path. Any combination of files and directories can be provided. For example: <code class="code-block language-shell cb-block cb-scroll-y"><textarea readonly spellcheck="false" rows="1">npx mooltipage index.html pages/npx mooltipage index.html pages/</textarea></code> Be careful, Mooltipage will include ALL files that end with ".html", even if they are not pages. When compiling from a directory, make sure to place all non-page HTML (such as fragments) in another location.</p></section><section class="page-section"><header><h3>Specifying the input path:</h3></header><p>By default Mooltipage uses the current working directory to resolve external references. Fragments, data paths, and script files are all examples of references. If the CLI is not executed from the correct directory, or the reference paths were created relative to a different location, then this can result in build errors. To avoid this, specify the base input directory using the "--inPath" option. To compile a project with the source located in "/src", use the following command: <code class="code-block language-shell cb-block cb-scroll-y"><textarea readonly spellcheck="false" rows="1">npx mooltipage --inPath=src src/index.html src/pages/</textarea></code> With the above command, a reference to "styles.css" from index.html will resolve to "src/styles.css", which is the correct path. If inPath had not been specified, then the path would have resolved to "styles.css" which is incorrect.</p></section><section class="page-section"><header><h3>Saving to a different location:</h3></header><p>In many cases, it is important or even essential to not overwrite the source files. This can be accomplished by providing an output directory and passing the path to Mooltipage. The output path for a page will be created by joining the output directory with the relative path from the input directory to that directory. For example, with input path "src" and output path "dist/html", the page "src/folder/index.html" will be saved to "dist/html/folder/index.html" The command to build that example would be: <code class="code-block language-shell cb-block cb-scroll-y"><textarea readonly spellcheck="false" rows="1">npx mooltipage --inPath=src --outPath=dist/html src/folder/index.html</textarea></code></p></section><section class="page-section"><header><h3>Formatting the output HTML:</h3></header><p>The Mooltipage compiler does not manipulate whitespace, which typically results in very ugly generated HTML. To counter this, Mooltipage includes a basic HTML formatter. By default, the formatter is set to "pretty" mode which attempts to format the output HTML for human readability. This is great for debugging, but production HTML should be minimized for performance. The HTML formatter supports this through the "minimized" mode. Additionally, there is a "none" mode that turns off all formatting. The none mode can be used in case of formatting errors, or to improve performance in build pipelines that utilize an external HTML processor. <br /> Either of these commands can be used to build pretty HTML: <code class="code-block language-shell cb-block cb-scroll-y"><textarea readonly spellcheck="false" rows="2">npx mooltipage index.html
npx mooltipage --formatter=pretty index.html</textarea></code> This command will minify the output HTML: <code class="code-block language-shell cb-block cb-scroll-y"><textarea readonly spellcheck="false" rows="1">npx mooltipage --formatter=minimized index.html</textarea></code> And finally, this command will disable formatting: <code class="code-block language-shell cb-block cb-scroll-y"><textarea readonly spellcheck="false" rows="1">npx mooltipage --formatter=none index.html</textarea></code></p></section><section class="page-section"><header><h3>Recompiling pages when changed:</h3></header><p>During web development, it is common to make repeated small tweaks to a file until a page looks exactly right. By default, this means rebuilding the entire site for each change. Large projects can take a long time to build which leads to a very slow and uncomfortable development experience. To counter this, Mooltipage includes "watch mode" which will instantly detect and compile changes to any project file. Watch mode preserves internal caches as much as possible and only recompiles the exact pages impacted by a change. To enable watch mode, add the "--watch" parameter to the CLI arguments, like this: <code class="code-block language-shell cb-block cb-scroll-y"><textarea readonly spellcheck="false" rows="1">npx mooltipage index.html --watch</textarea></code></p></section></article></main></div></div></body></html>