<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><title>Mooltipage - Getting Started - HTML Usage</title><style>/** * Shared CSS for documentation project */ /* Standard color palette */ :root { /* Semantic colors */ --color-error: red; --color-warning: yellow; --color-success: green; --color-active: #0091ff; --color-alert: blue; --color-highlight: purple; --color-primary: black; --color-secondary: #4F4F4F; --color-light: white; /* Background colors */ --color-bg-content: white; --color-bg-isolate: #FAFAFA; --color-bg-shadow: lightgrey; --color-bg-aside: lightsteelblue; --color-bg-banner: skyblue; } /* Responsive layout tools */ :root { /* Switch to large when screen is at least 992px wide (bootstrap "large" breakpoint) */ --flow-breakpoint-small: 0px; --flow-breakpoint-large: 992px; --flow-flex-direction-small: row; --flow-flex-direction-large: column; --flow-padding-small: 10px; --flow-padding-large: 20px; /* Default all to small values */ --flow-flex-direction: var(--flow-flex-direction-small); --flow-flex-direction-inverse: var(--flow-flex-direction-large); --flow-padding: var(--flow-padding-small); --flow-padding-inverse: var(--flow-padding-large); } @media(min-width: 992px) { :root { --flow-flex-direction: var(--flow-flex-direction-large); --flow-flex-direction-inverse: var(--flow-flex-direction-small); --flow-padding: var(--flow-padding-large); --flow-padding-inverse: var(--flow-padding-small); } } * { box-sizing: border-box; font-family: Arial, Helvetica, sans-serif; line-height: 1.2; } .flex-spacer { flex: auto; } h1, h2, h3, h4, h5, h6, p, div, body, ul, ol { padding: 0; margin: 0; } h1 { font-size: 1.5rem; font-weight: bold; } h2 { font-size: 1.4rem; font-weight: bold; } h3 { font-size: 1.1rem; font-weight: bold; } h4 { font-size: 1rem; font-weight: bold; } h5 { font-size: 0.9rem; font-weight: bold; } p, h6, div { font-size: 1rem; font-weight: normal; } /* Make lists easier to style */ ul, ol { list-style-position: inside } /* Style links */ a { text-decoration: none; } a:link { color: var(--color-alert); } a:visited { color: var(--color-highlight); } a:hover { text-decoration: underline; } a.link-is-current-page { font-weight: bold; }</style><style>.responsive-flex-layout { display: flex; flex-wrap: nowrap; } .responsive-flex-layout[data-direction="row"] { flex-direction: var(--flow-flex-direction-inverse); align-items: flex-start; } .responsive-flex-layout[data-direction="column"] { flex-direction: var(--flow-flex-direction); align-items: center; } @media(min-width: 992px) { .responsive-flex-layout[data-direction="row"][data-auto-align="true"] { align-items: center; } .responsive-flex-layout[data-direction="column"][data-auto-align="true"] { align-items: flex-start; } }</style><style>.nav-section .nav-item:first-child { padding: 0; } .nav-section .nav-item { padding-left: 20px; } .nav-section .nav-title { font-weight: bold; text-decoration: underline; } @media(min-width: 992px) { .nav-section .nav-item { padding-left: 0; padding-top: 20px; } .nav-section .nav-section-layout { align-items: stretch; } }</style><style>.island { padding: var(--flow-padding); } .island-content { padding: var(--flow-padding); box-shadow: 3px 3px 7px 1px var(--color-bg-shadow); border: 1px solid var(--color-bg-shadow); border-radius: 5px; }</style><style>.page-section { padding-top: var(--flow-padding); } .page-section:first-of-type { padding-top: 0; }</style><style>code.code-block.cb-inline { display: inline-block; } code.code-block.cb-block { display: block; width: 100%; padding: 2px 0; } code.code-block > textarea { background-color: #F9F9EF; color: var(--color-secondary); border: 1px solid var(--color-bg-shadow); margin: 0; padding: 3px; font-family: "Lucida Console", Monaco, monospace; resize: none; overflow: hidden; width: 100%; } code.code-block.cb-block > textarea { resize: vertical; } code.code-block.cb-scroll-x > textarea, code.code-block.cb-scroll-both > textarea { overflow-x: auto; } code.code-block.cb-scroll-y > textarea, code.code-block.cb-scroll-both > textarea { overflow-y: auto; }</style><style>#main-layout { display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: stretch; } #top-bar { display: flex; flex-direction: row; flex-wrap: nowrap; align-items: center; padding: var(--flow-padding); background-color: var(--color-bg-banner); flex: 1 0 100%; } #lower-section { background-color: var(--color-bg-content); box-shadow: inset 0 8px 5px -5px var(--color-bg-banner); display: flex; flex-direction: row; flex-wrap: wrap; justify-content: stretch; } #main-content { padding: var(--flow-padding); flex: 1; } #main-content-header { padding-bottom: var(--flow-padding); } #side-bar { flex: 1 0 100%; } @media(min-width: 992px) { #side-bar { flex: 0 0 300px; } }</style></head><body><div id="main-layout"><header id="top-bar"><h1 id="page-title">Getting Started - HTML Usage</h1><div class="flex-spacer"></div></header><div class="responsive-flex-layout" id="lower-section" data-direction="row" data-auto-align="false"><aside id="side-bar"><div class="island"><div class="island-content"><nav class="site-nav"><nav class="nav-section"><div class="responsive-flex-layout nav-section-layout" data-direction="column" data-auto-align="false"><div class="nav-item"><a href="../../index.html">Home</a></div><div class="nav-item"><a href="../../sections/gettingStarted/home.html" class="link-is-current-page">Getting Started</a></div><div class="nav-item"><a href="../../gen/typedoc/index.html" target="_blank" rel="noopener">API Documentation</a></div></div></nav></nav></div></div><div class="island"><div class="island-content"><nav class="nav-section"><div class="responsive-flex-layout nav-section-layout" data-direction="column" data-auto-align="false"><div class="nav-item"><a href="../../sections/gettingStarted/home.html">Getting Started - Home</a></div><div class="nav-item"><a href="../../sections/gettingStarted/installation.html">Getting Started - Installation</a></div><div class="nav-item"><a href="../../sections/gettingStarted/htmlUsage.html" class="link-is-current-page">Getting Started - HTML Usage</a></div><div class="nav-item"><a href="../../sections/gettingStarted/cli.html">Getting Started - CLI</a></div><div class="nav-item"><a href="../../sections/gettingStarted/api.html">Getting Started - JS API</a></div></div></nav></div></div></aside><main id="main-content"><article><header id="main-content-header"><h2>Creating a Simple Page</h2></header><section class="page-section"><p>This section provides an overview of the process of creating a web page that uses Mooltipage. There are brief introductions to some of Mooltipage's most commonly used features, but this is not a complete reference. The examples here are all using HTML5, but older HTML standards are also supported.</p></section><section class="page-section"><header><h3>Creating a basic HTML page:</h3></header><p>To begin, create a normal, empty HTML5 page named "index.html". Start with this template: <code class="code-block language-html cb-block cb-scroll-y"><textarea readonly spellcheck="false" rows="11">&lt;!DOCTYPE html>
&lt;html lang="en">
&lt;head>
    &lt;meta charset="UTF-8">
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0">
    &lt;title>&lt;/title>
&lt;/head>
&lt;body>
    
&lt;/body>
&lt;/html></textarea></code></p></section><section class="page-section"><header><h3>Adding content</h3></header><p>This page is pretty empty, so let's add some content. Fill in the &lt;title> tag and add some content, like so: <code class="code-block language-html cb-block cb-scroll-y"><textarea readonly spellcheck="false" rows="23">&lt;!DOCTYPE html>
&lt;html lang="en">
&lt;head>
    &lt;meta charset="UTF-8">
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0">
    &lt;title>Mooltipage Example&lt;/title>
&lt;/head>
&lt;body>
    &lt;article>
        &lt;section>
            Hello, world!
        &lt;/section>
        &lt;br>
        &lt;section>
            Hello, dog!
        &lt;/section>
        &lt;br>
        &lt;section>
            Hello, cat!
        &lt;/section>
    &lt;/article>
&lt;/body>
&lt;/html></textarea></code></p></section><section class="page-section"><header><h3>Creating a fragment</h3></header><p>We now have a very basic web page with some content. Notice that most of the content is very similar, with just one word replaced. This is the perfect place to use a <strong>fragment</strong>, one of the most core features of Mooltipage. A fragment is an isolated piece of HTML that can be repeated multiple times in different places just by reference. Additionally, fragments can accept parameters or even other pieces of HTML as content, allowing them to produce dynamic output based on content. To create a fragment, save a new HTML file named "hello.html". Enter this as the content: <code class="code-block language-html cb-block cb-scroll-y"><textarea readonly spellcheck="false" rows="3">&lt;section>
    Hello, \${ $.friend }!
&lt;/section></textarea></code> As you can see, a fragment does not need to be a full HTML file. It also does not need to have a single element root, as some SPA frameworks require. To use this fragment in the page, replace the &lt;section> tags with &lt;m-fragment> tags. The index.html file should now look like this: <code class="code-block language-html cb-block cb-scroll-y"><textarea readonly spellcheck="false" rows="17">&lt;!DOCTYPE html>
&lt;html lang="en">
&lt;head>
    &lt;meta charset="UTF-8">
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0">
    &lt;title>Mooltipage Example&lt;/title>
&lt;/head>
&lt;body>
    &lt;article>
        &lt;m-fragment src="./hello.html" friend="world">&lt;/m-fragment>
        &lt;br>
        &lt;m-fragment src="./hello.html" friend="dog">&lt;/m-fragment>
        &lt;br>
        &lt;m-fragment src="./hello.html" friend="cat">&lt;/m-fragment>
    &lt;/article>
&lt;/body>
&lt;/html></textarea></code> The m-fragment tag instructs Mooltipage to load a fragment from a provided path (the "src" attribute). All other attributes will be converted to parameters and made available for reference within the fragment. Here, we are providing a name to the "friend" attribute which is then referenced in the fragment from the local scope (the $ variable). When Mooltipage compiles index.html, it will replace all of the m-fragment tags with the fragment contents. It will also replace the interpolated string with the value of the friend variable, which generates the original texts of "Hello, world!", "Hello, dog!", and "Hello, cat!". The final compiled output will be identical to the original input, while the source is smaller, simpler, and has less code duplication.</p></section><section class="page-section"><header><h3>Modifying a fragment:</h3></header><p>The real benefit of using fragments comes when you want to change some frequently-repeated HTML. In a traditional web page, you would have to find and modify all instances of the shared HTML. With a fragment, however, you can make the change in one place and all usages will be updated. Modify hello.html like this: <code class="code-block language-html cb-block cb-scroll-y"><textarea readonly spellcheck="false" rows="3">&lt;section>
    Hello, &lt;strong>\${ $.friend }&lt;/strong>!
&lt;/section></textarea></code> Now all uses of hello.html will include the new &lt;strong> tag without the need to manually update them. While the benefit is minimal for a small example like this, the ability to make a single change apply to multiple pages is extremely helpful in larger apps.</p></section><section class="page-section"><header><h3>Styling a fragment:</h3></header><p>Another benefit of using fragments is selectively including non-HTML resources like CSS. Say we want to add color to our hello fragment. We can update it to use a class, like so: <code class="code-block language-html cb-block cb-scroll-y"><textarea readonly spellcheck="false" rows="3">&lt;section class="hello">
    Hello, &lt;strong>\${ $.friend }&lt;/strong>!
&lt;/section></textarea></code> The CSS for that class could look like this: <code class="code-block language-css cb-block cb-scroll-y"><textarea readonly spellcheck="false" rows="3">.hello strong {
    color: red;
}</textarea></code> Normally, we would need to place that CSS into a common CSS file or &lt;style> tag that is included on all pages. This is wasteful, especially if the hello fragment is rarely used. Fortunately, Mooltipage can help with this. Add a &lt;style> tag somewhere in hello.html, and add the "compiled" attribute. This will tell Mooltipage to process the style tag by moving it to the page header or to an external CSS file if desired. The CSS will only be included on pages where the hello fragment is used, and it will be automatically de-duplicated to avoid repeated copies of the same CSS. Additionally, the CSS can be automatically minimized or formatted along with the page if HTMl formatting is enabled. After adding the inline styles, hello.html should now look like this: <code class="code-block language-html cb-block cb-scroll-y"><textarea readonly spellcheck="false" rows="8">&lt;section class="hello">
    Hello, &lt;strong>\${ $.friend }&lt;/strong>!
&lt;/section>
&lt;style compiled>
    .hello strong {
        color: red;
    }
&lt;/style></textarea></code> Now we can safely include hello.html in any page without worrying about the CSS.</p></section><section class="page-section"><header><h3>Repeating content with m-for:</h3></header><p>We've been able to remove a few duplicated lines from index.html, but there is still a fairly large amount of unnecessary repetition. Take a close look at this block of code: <code class="code-block language-html cb-block cb-scroll-y"><textarea readonly spellcheck="false" rows="5">&lt;m-fragment src="./hello.html" friend="world">&lt;/m-fragment>
&lt;br>
&lt;m-fragment src="./hello.html" friend="dog">&lt;/m-fragment>
&lt;br>
&lt;m-fragment src="./hello.html" friend="cat">&lt;/m-fragment></textarea></code> Despite the fact that most of the markup was extracted to a fragment, this code is still mostly duplicated. The only real difference between any of the lines is the value of the friend parameter. This is great opportunity to use the &lt;m-for> element. As the name suggests, m-for implements a for loop. An array or array-like object is enumerated, and for each value the HTML inside m-for is duplicated and re-compiled with a different array value in scope. Once the array is fully enumerated, the m-for tag is removed and the contents are hoisted to replace it. It is equivalent to Angular's &lt;ng-repeat> or Vue's &lt;v-for>. We can use m-for to reduce duplication in index.html like this: <code class="code-block language-html cb-block cb-scroll-y"><textarea readonly spellcheck="false" rows="16">&lt;!DOCTYPE html>
&lt;html lang="en">
&lt;head>
    &lt;meta charset="UTF-8">
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0">
    &lt;title>Mooltipage Example&lt;/title>
&lt;/head>
&lt;body>
    &lt;article>
        &lt;m-for var="friend" of="{{ ['world', 'dog', 'cat'] }}">
            &lt;m-fragment src="./hello.html" friend="{{ $.friend }}">&lt;/m-fragment>
            &lt;br>
        &lt;/m-for>
    &lt;/article>
&lt;/body>
&lt;/html></textarea></code> With this change, we've removed a few duplicated lines and made it trivial to add more "hello, world" blocks in the future. In fact, lets add a few more values of friend and see how the code changes: <code class="code-block language-html cb-block cb-scroll-y"><textarea readonly spellcheck="false" rows="16">&lt;!DOCTYPE html>
&lt;html lang="en">
&lt;head>
    &lt;meta charset="UTF-8">
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0">
    &lt;title>Mooltipage Example&lt;/title>
&lt;/head>
&lt;body>
    &lt;article>
        &lt;m-for var="friend" of="{{ ['world', 'dog', 'cat', 'sky', 'tree', 'car'] }}">
            &lt;m-fragment src="./hello.html" friend="{{ $.friend }}">&lt;/m-fragment>
            &lt;br>
        &lt;/m-for>
    &lt;/article>
&lt;/body>
&lt;/html></textarea></code> Even after adding three more friend blocks - which are multiple lines long - the page source is less than one line longer. This is where Mooltipage really shines - removing duplicated and boilerplate code without resorting to a SSR or SPA framework. After compilation, all of the Mooltipage-specific elements will be removed. The output is just plain HTML that can be served by any standard web server and cached as much as desired.</p></section><section class="page-section"><header><h3>Conditionally including content with m-if:</h3></header><p>If you've been paying close attention to the code of index.html, you may have noticed that we introduced a subtle bug when we implemented m-for. The m-for loop will insert an m-fragment and a br tag for each iteration. In the previous code, however, the &lt;br> tags only exist <strong>between</strong> the m-fragments. Fortunately this is easily fixable. The first step is to expose the index counter of the m-for loop. This will be used to determine if we should insert a br tag or not. Update the m-for loop like this: <code class="code-block language-html cb-block cb-scroll-y"><textarea readonly spellcheck="false" rows="1">&lt;m-for var="friend" index="i" of="{{ ['world', 'dog', 'cat', 'sky', 'tree', 'car'] }}"></textarea></code> Next, move the br tag to be positioned before the m-fragment. Then replace it with this block: <code class="code-block language-html cb-block cb-scroll-y"><textarea readonly spellcheck="false" rows="3">&lt;m-if ?="{{ $.i > 0 }}">
    &lt;br>
&lt;/m-if></textarea></code> After these changes, the &lt;article> block should look like this: <code class="code-block language-html cb-block cb-scroll-y"><textarea readonly spellcheck="false" rows="18">&lt;!DOCTYPE html>
&lt;html lang="en">
&lt;head>
    &lt;meta charset="UTF-8">
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0">
    &lt;title>Mooltipage Example&lt;/title>
&lt;/head>
&lt;body>
    &lt;article>
        &lt;m-for var="friend" index="i" of="{{ ['world', 'dog', 'cat', 'sky', 'tree', 'car'] }}">
            &lt;m-if ?="{{ $.i > 0 }}">
                &lt;br>
            &lt;/m-if>
            &lt;m-fragment src="./hello.html" friend="{{ $.friend }}">&lt;/m-fragment>
        &lt;/m-for>
    &lt;/article>
&lt;/body>
&lt;/html></textarea></code> This logic will insert a br tag before each m-fragment only if this is not the first iteration. The result is that all m-fragments will be separated by a line break, but there will be no leading or trailing br to break the page layout.</p></section><section class="page-section"><header><h3>Example compiled output:</h3></header><p>If you've followed all steps in this section, then you should have these two files.<br /> index.html: <code class="code-block language-html cb-block cb-scroll-y"><textarea readonly spellcheck="false" rows="18">&lt;!DOCTYPE html>
&lt;html lang="en">
&lt;head>
    &lt;meta charset="UTF-8">
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0">
    &lt;title>Mooltipage Example&lt;/title>
&lt;/head>
&lt;body>
&lt;article>
    &lt;m-for var="friend" index="i" of="{{ ['world', 'dog', 'cat', 'sky', 'tree', 'car'] }}">
        &lt;m-if ?="{{ $.i > 0 }}">
            &lt;br>
        &lt;/m-if>
        &lt;m-fragment src="./hello.html" friend="{{ $.friend }}">&lt;/m-fragment>
    &lt;/m-for>
&lt;/article>
&lt;/body>
&lt;/html></textarea></code> hello.html: <code class="code-block language-html cb-block cb-scroll-y"><textarea readonly spellcheck="false" rows="8">&lt;section class="hello">
    Hello, &lt;strong>\${ $.friend }&lt;/strong>!
&lt;/section>
&lt;style compiled>
    .hello strong {
        color: red;
    }
&lt;/style></textarea></code> If you were to compile these files, you would get output similar to this: <code class="code-block language-html cb-block cb-scroll-y"><textarea readonly spellcheck="false" rows="40">&lt;!DOCTYPE html>
&lt;html lang="en">
&lt;head>
    &lt;meta charset="UTF-8">
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0">
    &lt;title>Mooltipage Example&lt;/title>
    &lt;style>
        .hello strong {
            color: red;
        }
    &lt;/style>
&lt;/head>
&lt;body>
&lt;article>
    &lt;section class="hello">
        Hello, &lt;strong>world&lt;/strong>!
    &lt;/section>
    &lt;br>
    &lt;section class="hello">
        Hello, &lt;strong>dog&lt;/strong>!
    &lt;/section>
    &lt;br>
    &lt;section class="hello">
        Hello, &lt;strong>cat&lt;/strong>!
    &lt;/section>
    &lt;br>
    &lt;section class="hello">
        Hello, &lt;strong>sky&lt;/strong>!
    &lt;/section>
    &lt;br>
    &lt;section class="hello">
        Hello, &lt;strong>tree&lt;/strong>!
    &lt;/section>
    &lt;br>
    &lt;section class="hello">
        Hello, &lt;strong>car&lt;/strong>!
    &lt;/section>
&lt;/article>
&lt;/body>
&lt;/html></textarea></code> Mooltipage has completely inlined the hello fragment and all special elements are removed. This is plain, valid HTML5 that can be used anywhere that HTML is supported. To learn how to compile Mooltipage HTML, proceed to the <a href="./cli.html">Getting Started - CLI</a> or <a href="./api.html">Getting Started - API</a> sections.</p></section></article></main></div></div></body></html>